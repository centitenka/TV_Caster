# 海信投屏 - 使用指南

## 快速开始

### 1. 安装应用

下载并安装APK文件到您的安卓手机。

### 2. 配置海信电视

1. 打开海信电视
2. 进入 **设置 → 网络 → 多屏互动**
3. 确保DLNA功能已开启
4. 确保电视和手机连接到同一个WiFi网络

### 3. 添加视频

#### 方法一：直接输入链接
1. 点击首页右下角的 **+** 按钮
2. 输入视频网页URL
3. 点击 **自动解析**
4. 选择解析结果并保存

#### 方法二：使用解析规则
1. 在添加视频页面选择解析规则
2. 输入对应网站的视频链接
3. 应用会使用规则自动提取视频

### 4. 投屏到电视

#### 搜索设备
1. 进入 **设备** 页面
2. 点击 **搜索设备**
3. 等待设备发现完成
4. 海信电视会显示在列表顶部

#### 开始投屏
1. 在视频列表中选择视频
2. 点击 **投屏到电视**
3. 选择目标设备
4. 点击 **投屏** 按钮

#### 播放控制
投屏成功后，可以控制：
- **播放/暂停**: 控制播放状态
- **停止**: 停止播放并退出
- **进度**: 在电视上调整播放进度

## 高级功能

### 自定义解析规则

#### 创建规则
1. 进入 **规则** 页面
2. 点击 **新建规则**
3. 填写规则信息：
   - **名称**: 规则的名称
   - **Host**: 匹配的域名（如 `bilibili.com` 或 `*` 表示通用）
   - **XPath**: 提取视频的选择器

#### XPath规则示例

**提取video标签的src属性：**
```
//video/@src
```

**提取source标签：**
```
//source[@type='video/mp4']/@src
```

**在script标签中查找m3u8链接：**
```
//script[contains(text(),'.m3u8')]
```
配合正则表达式：
```
["']([^"']+\.m3u8[^"']*)["']
```

#### 规则导入/导出
- **导出**: 在规则页面点击分享图标，复制JSON数据
- **导入**: 在规则页面点击导入图标，粘贴JSON数据

### 支持的网站

应用内置了以下网站的解析规则：
- 通用视频（自动检测）
- Bilibili
- 支持自定义规则扩展

### 视频格式支持

海信电视通过DLNA支持以下格式：
- MP4
- M3U8 (HLS流媒体)
- FLV
- MKV
- AVI

## 常见问题

### Q: 搜索不到电视？
**A:** 请检查：
1. 电视和手机是否在同一WiFi网络
2. 电视的DLNA功能是否已开启
3. 尝试重启电视和手机

### Q: 投屏失败？
**A:** 可能原因：
1. 视频格式不受支持
2. 视频链接已失效
3. 网络连接不稳定
4. 尝试重新搜索设备

### Q: 如何解析特定网站？
**A:** 
1. 查看网页源代码
2. 找到视频元素的位置
3. 编写XPath选择器
4. 创建自定义规则

### Q: 解析规则不生效？
**A:** 检查：
1. XPath语法是否正确
2. 网站结构是否发生变化
3. 是否需要设置请求头（如User-Agent）

## 使用技巧

### 批量导入视频
通过创建自定义规则，可以批量解析网站的视频列表。

### 收藏常用规则
将常用的解析规则导出保存，方便在其他设备上导入使用。

### 优化投屏体验
1. 确保网络稳定
2. 优先使用M3U8格式的视频源
3. 选择清晰度适中的视频（避免卡顿）

## 安全提示

1. 仅在受信任的网络中使用DLNA投屏
2. 不要分享包含敏感信息的解析规则
3. 定期清理不再使用的视频和规则

## 技术支持

如有问题或建议，欢迎反馈。

---

**注意**: 本应用仅供学习交流使用，请遵守相关法律法规。
